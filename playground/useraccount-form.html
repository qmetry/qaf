<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta name="description" content="Sample web form with validation for hand on test automation practice using Qmetry Automation Framework">
<meta name="keywords" content="Selenium, WebDriver, Infostretch, QMetry, QAF, Automation, Framework,TestNg, Testing, QA, Cucumber, BDD, KWD, ISFW, Gherkin, QAF" itemprop="Selenium, WebDriver, Infostretch, QMetry, QAF, Automation, Framework,TestNg, Testing, QA, Cucumber, BDD, KWD, ISFW, Gherkin,QAF">
<meta name="author" content="Chirag Jayswal">

<title>New User</title>

<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
<script src="https://cdn.jsdelivr.net/jquery.validation/1.16.0/jquery.validate.min.js"></script>
<script src="https://code.jquery.com/ui/1.13.0/jquery-ui.js"></script>
<link rel="stylesheet" href="https://code.jquery.com/ui/1.13.0/themes/base/jquery-ui.css">

<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-633C9C2K5V"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-633C9C2K5V');
</script>

<script type="text/javascript">
	$.validator.setDefaults({
		/* submitHandler : function() {
			$('form *').prop('disabled', true);
			$('#signupForm legend').first().html("Your form has been submitted!...");
			$('#signupForm fieldset').css({"border": "none"});
		} */
	});

	$()
			.ready(
					function() {
						$( "#birthdate" ).datepicker({
							maxDate: -5*365, 
							changeMonth: true, changeYear: true,
							constrainInput: false
							});
						$( "#marriagedate" ).datepicker({
							maxDate: -1, minDate:new Date(1951, 1 - 1, 1),
							changeMonth: true, changeYear: true,
							constrainInput: false
							});
						$( "#sbirthdate" ).datepicker({
							maxDate: -18*365, minDate:new Date(1951, 1 - 1, 1),
							changeMonth: true, changeYear: true,
							constrainInput: false
							});

						// validate signup form on keyup and submit
						$("#signupForm")
								.validate(
										{
											rules : {
												firstname : "required",
												lastname : "required",
												username : {
													required : true,
													minlength : 2
												},
												password : {
													required : true,
													minlength : 5
												},
												confirm_password : {
													required : true,
													minlength : 5,
													equalTo : "#password"
												},
												email : {
													required : true,
													email : true
												},
												topic : {
													required : "#newsletter:checked",
													minlength : 2
												},
												agree : "required"
											},
											messages : {
												firstname : "Please enter your firstname",
												lastname : "Please enter your lastname",
												username : {
													required : "Please enter a username",
													minlength : "Your username must consist of at least 2 characters"
												},
												password : {
													required : "Please provide a password",
													minlength : "Your password must be at least 5 characters long"
												},
												confirm_password : {
													required : "Please provide a password",
													minlength : "Your password must be at least 5 characters long",
													equalTo : "Please enter the same password as above"
												},
												email : "Please enter a valid email address",
												agree : "Please accept our policy",
												topic : "Please select at least 2 topics"
											}
										});

						// propose username by combining first- and lastname
						$("#username").focus(function() {
							var firstname = $("#firstname").val();
							var lastname = $("#lastname").val();
							if (firstname && lastname && !this.value) {
								this.value = firstname + "." + lastname;
							}
						});

						//code to hide topic selection, disable for demo
						var newsletter = $("#newsletter");
						// newsletter topics are optional, hide at first
						var inital = newsletter.is(":checked");
						var topics = $("#newsletter_topics")[inital ? "removeClass"
								: "addClass"]("gray");
						var topicInputs = topics.find("input").attr("disabled",
								!inital);
						// show when newsletter is checked
						newsletter.click(function() {
							topics[this.checked ? "removeClass" : "addClass"]
									("gray");
							topicInputs.attr("disabled", !this.checked);
						});
						
						var birthdate = $("#birthdate");
						
						var mstaus = $("#mstatus");
						mstaus.attr("disabled", getAge(birthdate)<18);
						var initalmstaus=mstaus.is(":checked");
						
						var minfo = $("#minfo");
						minfo.toggle(initalmstaus);
						var mstausInputs = minfo.find("input").attr("disabled",
								!initalmstaus);
						
						birthdate.change(function() {
							//var d = $( this ).datepicker("getDate");
							var age = getAge(this);
							mstaus.attr("disabled", age<18);
							$("#minfo").toggle(!$(mstaus).is(':disabled') && mstaus.checked);
							mstausInputs.attr("disabled", $("#minfo").is(":hidden"));
						});
						
						mstaus.click(function() {
							$("#minfo").toggle(!$(this).is(':disabled') && this.checked);
							mstausInputs.attr("disabled", $("#minfo").is(":hidden"));
						});
					});
	function getAge(input){
		var d = $(input).datepicker("getDate") || new Date();
		return Math.floor((new Date() - d) / (1000 * 60 * 60 * 24*365));
	}
</script>
<style type="text/css">
form label {
	display: inline-block;
	width: 100px;
}

input:disabled{
border: none;
}

input.submit:disabled{
display: none;
}

form div {
	margin-bottom: 20px;
}

.error {
	color: red;
	margin-left: 5px;
}

label.error {
	display: inline;
}

#signupForm, h1 {
	width: 670px;
	margin: 20px;
}

#signupForm label.error {
	margin-left: 10px;
	width: auto;
	display: inline;
}

#newsletter_topics label.error {
	display: none;
	margin-left: 103px;
}
</style>
</head>
<body>


	<div id="main">
<h1>New User Account</h1>
		<form class="cmxform" id="signupForm" method="get" action="./useraccount.html">
			<fieldset>
				<legend>User Information</legend>
				<p>
					<label for="firstname">Firstname</label> <input id="firstname"
						name="firstname" type="text">
				</p>
				<p>
					<label for="middlename">Middlename</label> <input id="middlename"
						name="middlename" type="text">
				</p>
				<p>
					<label for="lastname">Lastname</label> <input id="lastname"
						name="lastname" type="text">
				</p>
				<p>
					<label for="username">Username</label> <input id="username"
						name="username" type="text">
				</p>
				<p>
					<label for="password">Password</label> <input id="password"
						name="password" type="password">
				</p>
				<p>
					<label for="confirm_password">Confirm password</label> <input
						id="confirm_password" name="confirm_password" type="password">
				</p>
				<p>
					<label for="email">Email</label> <input id="email" name="email"
						type="email">
				</p>
				<p>
					<label for="birthdate">Date Of Birth</label> <input type="text" id="birthdate" name="birthdate" readonly="readonly">
				</p>
				<p>
					<label for="mstatus">Please check if you are married</label> <input type="checkbox" id="mstatus" name="maritalstatus" >
				</p>
				<fieldset id="minfo">
				<p>
					<label for="sbirthdate">Spouse Date Of Birth</label> <input type="text" id="sbirthdate" name="spousebirthdate" readonly="readonly">
				</p>
				<p>
					<label for="marriagedate">Date Of Marriage</label> <input type="text" id="marriagedate" name="marriagedate" readonly="readonly">
				</p>
				</fieldset>
				<p>
					<label for="agree">Please agree to our policy</label> <input
						type="checkbox" class="checkbox" id="agree" name="agree">
				</p>
				<br/>
				<p>
					<label for="newsletter">I'd like to receive the newsletter</label>
					<input type="checkbox" class="checkbox" id="newsletter"
						name="newsletter">
				</p>
				<fieldset id="newsletter_topics">
					<legend>Topics (select at least two) - note: would be
						hidden when newsletter isn't selected, but is visible here for the
						demo</legend>
					<label for="topic_marketflash"> <input type="checkbox"
						id="topic_marketflash" value="marketflash" name="topic">Marketflash
					</label> <label for="topic_fuzz"> <input type="checkbox"
						id="topic_fuzz" value="fuzz" name="topic">Latest fuzz
					</label> <label for="topic_digester"> <input type="checkbox"
						id="topic_digester" value="digester" name="topic">Mailing
						list digester
					</label> <label for="topic" class="error">Please select at least
						two topics you'd like to receive.</label>
				</fieldset>
				<p>
				<br/><br/>
					<input class="submit" type="submit" value="Submit">
				</p>
			</fieldset>
		</form>
</body>
</html>